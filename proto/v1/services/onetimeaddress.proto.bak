syntax = "proto3";
package ubt.services;

option java_multiple_files = true;
option go_package = "api/gen";

message BatchCollectValueRequest {
  // list of currencies to collect from
  repeated string currencyIds = 1;
  // list of addresses to collect from
  // those addresses must be generated by this service
  repeated string addresses = 2;
}

message CollectValueRequest {
  repeated string currencyIds = 1;
}

service OneTimeAddress {
  rpc getMainAddress(NetworkId) returns (Address) {}
  rpc generateAddress(NetworkId) returns (Address) {}
  // transfer specified currencies to the main address
  rpc collectValue(CollectValueRequest) returns(Value) {}
  rpc batchCollectValue(BatchCollectValueRequest)

}